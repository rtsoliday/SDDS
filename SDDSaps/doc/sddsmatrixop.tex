\begin{sddsprog}{sddsmatrixop}
  \item \textbf{description:}
  \verb|sddsmatrixop| performs general matrix operations. The matrices and operations are
  specified on the command line and are executed in an RPN-like fashion. String columns are
  ignored and not copied to the output file.
  \item \textbf{examples:}
  Multiply two matrices:
    \begin{verbatim}
sddsmatrixop A.matrix C.matrix -push=B.matrix -multiply
    \end{verbatim}
  Compute $Y = (1 + (A+B)C)^{-1}$:
    \begin{verbatim}
sddsmatrixop A.matrix Y.matrix -push=B.matrix -add -push=C.matrix -mult -identity -add -invert
    \end{verbatim}
  \item \textbf{synopsis:}
    \begin{verbatim}
sddsmatrixop [inputmatrix] [outputmatrix] [-pipe=[in|out]] [-verbose]
  [-push=<matrix>] [-multiply] [-add] [-substract] [-invert] ...
    \end{verbatim}
  \item \textbf{files:}
  \emph{inputmatrix} is the SDDS file containing the initial matrix on the stack.
  \emph{outputmatrix} is the SDDS file to receive the resulting matrix.
  \item \textbf{switches:}
    \begin{itemize}
      \item \verb|-pipe[=input][,output]| --- The standard SDDS Toolkit pipe option.
      \item \verb|-push=<matrix>| --- Push a matrix onto the stack.
      \item \verb|-verbose| --- Write diagnostic messages to \verb|stderr|.
      \item \verb|-identity[=<number>]| --- Push an identity matrix. If a number is given, it sets the
        dimension; otherwise uses the dimension of the top matrix.
      \item \verb|-add| --- Addition operator.
      \item \verb|-substract| --- Subtraction operator.
      \item \verb|-multiply[=hadamard]| --- Matrix multiplication. If \verb|=hadamard| is given,
        performs element-by-element multiplication.
      \item \verb|-divide=hadamard| --- Element-by-element division.
      \item \verb|-swap| --- Swap the top two elements of the stack.
      \item \verb|-scalarmultiply=<value>| --- Multiply the matrix by a constant.
      \item \verb|-scalardivide=<value>| --- Divide the matrix by a constant.
      \item \verb|-transpose| --- Matrix transpose.
      \item \verb|-invert| --- Matrix inversion.
    \end{itemize}
  \item \textbf{see also:}
    \begin{itemize}
      \item \progref{sddsmatrixmult}
      \item \progref{sddsmatrix2column}
    \end{itemize}
  \item \textbf{author:} H. Shang, ANL.
\end{sddsprog}

